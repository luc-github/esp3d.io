<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.126.3">
    <meta name="generator" content="Relearn 6.0.0">
    <meta name="description" content="Description and sample code">
    <meta name="author" content="Luc LEBOSSE">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Extensions API :: ESP3D Ecosystem">
    <meta name="twitter:description" content="Description and sample code">
    <meta property="og:url" content="http://localhost:1313/esp3d-webui/v3.x/documentation/api/extensions/index.html">
    <meta property="og:site_name" content="ESP3D Ecosystem">
    <meta property="og:title" content="Extensions API :: ESP3D Ecosystem">
    <meta property="og:description" content="Description and sample code">
    <meta property="og:locale" content="en-us">
    <meta property="og:type" content="website">
    <meta itemprop="name" content="Extensions API :: ESP3D Ecosystem">
    <meta itemprop="description" content="Description and sample code">
    <meta itemprop="wordCount" content="5274">
    <title>Extensions API :: ESP3D Ecosystem</title>
    <link href="http://localhost:1313/esp3d-webui/v3.x/documentation/api/extensions/index.html" rel="canonical" type="text/html" title="Extensions API :: ESP3D Ecosystem">
    <link href="/esp3d-webui/v3.x/documentation/api/extensions/index.xml" rel="alternate" type="application/rss+xml" title="Extensions API :: ESP3D Ecosystem">
    <link href="/images/favicon.ico?1722688887" rel="icon" type="image/x-icon" sizes="any">
    <link href="/css/fontawesome-all.min.css?1722688887" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1722688887" rel="stylesheet"></noscript>
    <link href="/css/nucleus.css?1722688887" rel="stylesheet">
    <link href="/css/auto-complete.css?1722688887" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1722688887" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1722688887" rel="stylesheet">
    <link href="/css/fonts.css?1722688887" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1722688887" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1722688887" rel="stylesheet">
    <link href="/css/theme-blue.css?1722688887" rel="stylesheet" id="R-variant-style">
    <link href="/css/chroma-learn.css?1722688887" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/css/variant.css?1722688887" rel="stylesheet">
    <link href="/css/print.css?1722688887" rel="stylesheet" media="print">
    <link href="/css/format-print.css?1722688887" rel="stylesheet">
    <script src="/js/variant.js?1722688887"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..\/..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313';
      window.index_js_url="/index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'blue' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
  </head>
  <body class="mobile-support print" data-url="/esp3d-webui/v3.x/documentation/api/extensions/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/index.html"><span itemprop="name">ESP3D Ecosystem</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/esp3d-webui/index.html"><span itemprop="name">ESP3D-WEBUI</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/esp3d-webui/v3.x/index.html"><span itemprop="name">Version 3.X</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/esp3d-webui/v3.x/documentation/index.html"><span itemprop="name">Documentation</span></a><meta itemprop="position" content="4">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/esp3d-webui/v3.x/documentation/api/index.html"><span itemprop="name">API</span></a><meta itemprop="position" content="5">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Extensions API</span><meta itemprop="position" content="6"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/esp3d-webui/v3.x/documentation/api/fileupload/index.html" title="File upload (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/esp3d-webui/v3.x/showcase/index.html" title="Showcase (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
<h1 id="extensions-api">Extensions API</h1>
<ul>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#what-is-an-extension-">What is an extension ?</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#basic-code">Basic code</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#send-message">Send message</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#send-gcode-command-or-esp-command">Send GCODE command or ESP command</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#send-web-query">Send web query</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#send-web-upload">Send web upload</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#send-webdownload-request">Send webdownload request</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#send-sound-notification">Send sound notification</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#send-toast-notification">Send toast notification</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#send-translation-request">Send translation request</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#send-capabilities-request">Send capabilities request</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#save-extension-settings-to-preferencesjson">Save extension settings to preferences.json</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#send-icon-request">Send icon request</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#dispatch-message-to-other-extensions">Dispatch message to other extensions</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#modal-dialog-documentation">Modal Dialog Documentation</a>
<ul>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#modal-types">Modal Types</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#sending-messages">Sending Messages</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#modal-content">Modal Content</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#fields-types-and-options">Fields types and options</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#handling-messages">Handling Messages</a></li>
</ul>
</li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#install-an-extension-in-web-ui">Install an extension in Web UI</a></li>
<li><a href="/esp3d-webui/v3.x/documentation/api/extensions/index.html#sample-codes">Sample codes</a></li>
</ul>
<h2 id="what-is-an-extension-">What is an extension ?</h2>
<p>An extension is a small piece of code that can be added to the Web UI to add new functionality. It can be used to add new tabs, new panels in web UI.
Extensions are dynamic, modular components that enhance the functionality of our main application. They are designed to be flexible and easily integrated, allowing for customization and expansion of features without modifying the core application.
Key characteristics of extensions include:</p>
<ul>
<li>Isolated Execution: Extensions run within their own iframe, ensuring a level of separation from the main application.</li>
<li>Dynamic Loading: They can be loaded on-demand, improving the application&rsquo;s overall performance and flexibility.</li>
<li>Consistent Styling: Extensions adopt styles from the main application, maintaining a cohesive look and feel.</li>
<li>Diverse Functionality: Extensions can serve various purposes, from adding new features to integrating external services.</li>
<li>Managed Lifecycle: The system handles the loading, display, and unloading of extensions, simplifying their management.</li>
</ul>
<p>By leveraging extensions, our application becomes more adaptable and can cater to a wide range of user needs while maintaining a stable core structure.</p>

<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Note</div>
  <div class="box-content">

<p>To decrease the size of of the extension you can minify and gzip it, it will reduce its size, and will be faster to load.</p>
</div>
</div>
<h2 id="basic-code">Basic code</h2>
<p>Here is a basic code for extension to communicate with Web UI</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>&lt;script type=&#34;text/javascript&#34;&gt;

//Send message to web ui
function sendMessage(msg){
    window.parent.postMessage(msg, &#39;*&#39;);
}

//Process Message coming from webUI
function processMessage(eventMsg){
    //now process eventMsg.data
}

//Setup message listener from webUI
window.onload = (event) =&gt; {
  window.addEventListener(&#34;message&#34;, processMessage, false);
};

&lt;/script&gt;

&lt;div class=&#34;container&#34;&gt;
Display your HTML here
&lt;/div&gt;</code></pre></div><p>As you can see, code is minimal - it will fit a a panel or page, webui css / theme will be added by webUI after loaded, so you do not need to add any, you can use any of existing class available in webUI.</p>
<p>Communication between frame and main window is done by messages using objects (string / array based), do not use any object that could ne be cloned or loading will fail.</p>
<p>One typical use case is when WebUI send notificstion to extension o inform it that is visible or not, so extension can adjust its own behavior according to this information.</p>
<p>The notification message (eventMsg.data) has the following structure:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    type: &#39;notification&#39;,
    content: {
      isVisible: true | false,
    },
    id: &#39;extra_content_XXXXX&#39;
}</code></pre></div><p>The id  is the id of the node that contain the iframe, which means unlike others messages, notification with specific id are addressed to the iframe of the node and not broadcasted to all iframes.
Currently notifications are limited to visible / not visible, but it is possible to add more information in the future.</p>
<hr>
<h2 id="send-message">Send message</h2>
<p>message structure used by <code>window.parent.postMessage(msg, '*');</code> has a defined format, some parameters are madatories, some are optionals and some depend on message type:<br>
<code>{type:'&lt;message type&gt;', target:'webui', id:'[origin]', noDispatch:[true], XXX:YYY}</code><br>
<code>&lt;message type&gt;</code> is mandatory, it define the purpose of the message<br>
<code>target:'webui'</code> is mandatory, it help to screen the message <br>
<code>id:'[origin]'</code> is optionnal, it define which id must read the response if any, if present it can be used by extension to filter message, no id means the message is for everyone<br>
<code>noDispatch:[true]</code> is optionnal, if true it will prevent to send answer if any, if not or set to false, it will send answer message if any<br>
<code>XXX:YYY</code> are optionals/mandatories according message type</p>
<hr>
<h3 id="send-gcode-command-or-esp-command">Send GCODE command or ESP command</h3>
<p>Example: <code>{type:'cmd', target:'webui',id:'terminal', content:'[ESP111]'}</code><br>
<strong>type</strong> is <code>cmd</code> (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>id</strong> is <code>terminal</code> (optional)<br>
<strong>content</strong> is the command that need to be sent, in our case <code>[ESP111]</code> (mandatory)</p>
<p>Note: there is no <code>noDispatch:true</code> so answer, if any from ESP firmware, will be sent<br>
Note 2: there is no way to prevent the answer to be spread if it come from external board from serial, even if <code>id</code> and <code>noDispatch</code> are set</p>
<ul>
<li>
<p>Answer format: check the <code>eventMsg.data</code></p>
<ul>
<li>
<p>if success</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;cmd&#34;,
    &#34;content&#34;: {
        &#34;status&#34;: &#34;success&#34;
        &#34;response&#34;: &#34;192.168.1.111&#34;,
        &#34;initiator&#34;: {  
                        &#34;content&#34;:&#34;[ESP111]&#34;,
                        &#34;id&#34;:&#34;terminal&#34;,
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;type&#34;:&#34;cmd&#34;, 
                    }
    },
    &#34;id&#34;: &#34;terminal&#34;
}  </code></pre></div><p><strong>type</strong> is <code>cmd</code><br>
<strong>id</strong> is the id set in command message to help to screen <br>
<strong>content</strong> has the response&rsquo;s <strong>status</strong> which is <code>success</code>, the response it self <strong>response</strong>, in our case <code>192.168.1.111</code>  and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
<li>
<p>if error</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{ 
    &#34;type&#34;: &#34;cmd&#34;, 
    &#34;content&#34;: { 
        &#34;status&#34;: &#34;error&#34;, 
        &#34;error&#34;:&#34;Cannot connect&#34;, 
        &#34;initiator&#34;: {  
                        &#34;content&#34;:&#34;[ESP111]&#34;,
                        &#34;id&#34;:&#34;terminal&#34;,
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;type&#34;:&#34;cmd&#34;, 
                    }
    }, 
    &#34;id&#34;:&#34;terminal&#34;
}</code></pre></div><p><strong>type</strong> is <code>error</code> for any error command<br>
<strong>id</strong> is the id set in command message to help to screen <br>
<strong>content</strong> has the response&rsquo;s <strong>status</strong> which is <code>error</code>, and the error it self <strong>error</strong>, in our case <code>Cannot connect</code> and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="send-web-query">Send web query</h3>
<p>Example: <code>{type:'query', target:'webui', id:'filemanager', url:'files', args:{action:'list', path:'/'}}</code>
<strong>type</strong> is <code>query</code> (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>id</strong> is <code>terminal</code> (optional)<br>
<strong>url</strong> is the base url in our case <code>files</code> for <code>/files</code> (mandatory)<br>
<strong>args</strong> is the set of arguments url in our case <code>{action:'list', path:'/'}</code> for <code>/files?action=list&amp;path=/</code> (optional for query)</p>
<p>Note:  <code>noDispatch:true</code> and <code>id:'term'</code> are applicable in this case if needed</p>
<ul>
<li>Answer format: check the <code>eventMsg.data</code>
<ul>
<li>
<p>if success</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;query&#34;,
    &#34;response&#34;: {
        &#34;status&#34;: &#34;success&#34;,
        &#34;response&#34;: &#34;{\&#34;files\&#34;:[{\&#34;name\&#34;:\&#34;config.yaml\&#34;,\&#34;size\&#34;:\&#34;1.55 KB\&#34;}],\&#34;path\&#34;:\&#34;/\&#34;,\&#34;occupation\&#34;:\&#34;35\&#34;,\&#34;status\&#34;:\&#34;ok\&#34;,\&#34;total\&#34;:\&#34;1.31 MB\&#34;,\&#34;used\&#34;:\&#34;470.08 KB\&#34;}&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;: &#34;query&#34;, 
                        &#34;target&#34;: &#34;webui&#34;, 
                        &#34;id&#34;: &#34;filemanager&#34;, 
                        &#34;url&#34;: &#34;files&#34;, 
                        &#34;args&#34;: {
                                    &#34;action&#34;: &#34;list&#34;, 
                                    &#34;path&#34;: &#34;/&#34;
                                }
                    }
    },
    &#34;id&#34;: &#34;filemanager&#34;
}</code></pre></div><p><strong>type</strong> is <code>query</code>
<strong>id</strong> is the id set in output message to help to screen <br>
<strong>content</strong> has the response&rsquo;s <strong>status</strong> which is <code>success</code>, the response it self <strong>response</strong>, in our case a JSON,  and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
<li>
<p>if error</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;query&#34;,
    &#34;response&#34;: {
        &#34;status&#34;: &#34;error&#34;,
        &#34;error&#34;: &#34;Cannot connect&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;: &#34;query&#34;, 
                        &#34;target&#34;: &#34;webui&#34;, 
                        &#34;id&#34;: &#34;filemanager&#34;, 
                        &#34;url&#34;: &#34;files&#34;, 
                        &#34;args&#34;: {
                                    &#34;action&#34;: &#34;list&#34;, 
                                    &#34;path&#34;: &#34;/&#34;
                                }
                    }
    },
    &#34;id&#34;: &#34;filemanager&#34;
}</code></pre></div><p><strong>type</strong> is <code>query</code>
<strong>id</strong> is the id set in output message to help to screen <br>
<strong>content</strong> has the response&rsquo;s <strong>status</strong> which is <code>error</code>, and the error it self <strong>error</strong>, in our case <code>Cannot connect</code> and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="send-web-upload">Send web upload</h3>
<p>Example: <code>{type:'upload', target:'webui', id:'filemanager', url:'files', content:[...],size:500, path:&quot;/&quot;, filename:'file.txt'}</code>
<strong>type</strong> is <code>upload</code> (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>id</strong> is <code>filemanager</code> (optional)<br>
<strong>url</strong> is the base url in our case <code>files</code> for <code>/files</code> (mandatory for upload)<br>
<strong>content</strong> is the file in an array object (mandatory)
<strong>size</strong> is the file size (mandatory)<br>
<strong>path</strong> is the file target path (not including name) (mandatory)
<strong>size</strong> is the filename (not including path) (mandatory)
<strong>args</strong> is an object with optional arguments like for query, they are no used in post but in url itself</p>
<p>Note:  <code>noDispatch:true</code> and <code>id:'filemanager'</code> are applicable in this case if needed</p>
<ul>
<li>Answer format: check the <code>eventMsg.data</code><br>
for upload the initiator does not contain the file content
<ul>
<li>
<p>if success</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;upload&#34;,
    &#34;response&#34;: {
        &#34;status&#34;: &#34;success&#34;,
        &#34;response&#34;: &#34;{\&#34;files\&#34;:[{\&#34;name\&#34;:\&#34;config.yaml\&#34;,\&#34;size\&#34;:\&#34;1.55 KB\&#34;},{\&#34;name\&#34;:\&#34;file.txt\&#34;,\&#34;size\&#34;:\&#34;500B\&#34;}],\&#34;path\&#34;:\&#34;/\&#34;,\&#34;occupation\&#34;:\&#34;35\&#34;,\&#34;status\&#34;:\&#34;ok\&#34;,\&#34;total\&#34;:\&#34;1.31 MB\&#34;,\&#34;used\&#34;:\&#34;470.08 KB\&#34;}&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;:&#34;upload&#34;, 
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;id&#34;:&#34;filemanager&#34;, 
                        &#34;url&#34;:&#34;files&#34;,
                        &#34;size&#34;:500, 
                        &#34;path&#34;:&#34;/&#34;, 
                        &#34;filename&#34;:&#34;file.txt&#34;
                    }
    },
    &#34;id&#34;: &#34;filemanager&#34;
}</code></pre></div><p><strong>type</strong> is <code>upload</code>
<strong>id</strong> is the id set in output message to help to screen <br>
<strong>content</strong> has the response&rsquo;s <strong>status</strong> which is <code>success</code>, the response it self <strong>response</strong>, in our case a JSON,  and also the  <strong>initiator</strong> is the initial command for reference but without the file content</p>
</li>
<li>
<p>progression message</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;upload&#34;,
    &#34;response&#34;: {
        &#34;status&#34;: &#34;progress&#34;,
        &#34;progress&#34;: &#34;100&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;:&#34;upload&#34;, 
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;id&#34;:&#34;filemanager&#34;, 
                        &#34;url&#34;:&#34;files&#34;,
                        &#34;size&#34;:500, 
                        &#34;path&#34;:&#34;/&#34;, 
                        &#34;filename&#34;:&#34;file.txt&#34;
                    }
    },
    &#34;id&#34;: &#34;filemanager&#34;
}</code></pre></div><p><strong>type</strong> is <code>upload</code>
<strong>id</strong> is the id set in output message to help to screen <br>
<strong>content</strong> has the response&rsquo;s <strong>status</strong> which is <code>progress</code>, and the progression it self <strong>progress</strong>, in our case <code>100</code> = 100% and also the  <strong>initiator</strong> is the initial command for reference but without the file content</p>
</li>
<li>
<p>if error</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;upload&#34;,
    &#34;response&#34;: {
        &#34;status&#34;: &#34;error&#34;,
        &#34;error&#34;: &#34;Cannot connect&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;:&#34;upload&#34;, 
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;id&#34;:&#34;filemanager&#34;, 
                        &#34;url&#34;:&#34;files&#34;,
                        &#34;size&#34;:500, 
                        &#34;path&#34;:&#34;/&#34;, 
                        &#34;filename&#34;:&#34;file.txt&#34;
                    }
    },
    &#34;id&#34;: &#34;filemanager&#34;
}</code></pre></div><p><strong>type</strong> is <code>upload</code>
<strong>id</strong> is the id set in output message to help to screen <br>
<strong>content</strong> has the response&rsquo;s <strong>status</strong> which is <code>error</code>, and the error it self <strong>error</strong>, in our case <code>Cannot connect</code> and also the  <strong>initiator</strong> is the initial command for reference but without the file content</p>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="send-webdownload-request">Send webdownload request</h3>
<p>Example: <code>{type:'download', target:'webui', id:'filemanager', url:'preferences.json'}</code>
<strong>type</strong> is <code>download</code> (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>id</strong> is <code>filemanager</code> (optional)<br>
<strong>url</strong> is the url of the file in our case <code>preferences.json</code> for <code>/preferences.json</code> (mandatory)<br>
<strong>args</strong> is an object with optional arguments like for query</p>
<p>Note:  <code>id:'filemanager'</code> is applicable in this case if needed, but not  <code>noDispatch:true</code> as the purpose is to get response</p>
<ul>
<li>Answer format: check the <code>eventMsg.data</code>
<ul>
<li>
<p>if success</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;download&#34;,
    &#34;response&#34;: {
        &#34;status&#34;: &#34;success&#34;,
        &#34;response&#34;: [...],
        &#34;initiator&#34;: {
                        &#34;type&#34;:&#34;download&#34;, 
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;id&#34;:&#34;filemanager&#34;, 
                        &#34;url&#34;:&#34;preferences.json&#34;,
                    }
    },
    &#34;id&#34;: &#34;filemanager&#34;
}</code></pre></div><p><strong>type</strong> is <code>upload</code>
<strong>id</strong> is the id set in output message to help to screen <br>
<strong>content</strong> has the response&rsquo;s <strong>status</strong> which is <code>success</code>, the response it self <strong>response</strong>, in our case a blob  which is the file that need to be read properly, and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
<li>
<p>progression message</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;upload&#34;,
    &#34;response&#34;: {
        &#34;status&#34;: &#34;progress&#34;,
        &#34;progress&#34;: &#34;100&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;:&#34;upload&#34;, 
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;id&#34;:&#34;filemanager&#34;, 
                        &#34;url&#34;:&#34;preferences.json&#34;,
                    }
    },
    &#34;id&#34;: &#34;filemanager&#34;
}</code></pre></div><p><strong>type</strong> is <code>download</code>
<strong>id</strong> is the id set in output message to help to screen <br>
<strong>content</strong> has the response&rsquo;s <strong>status</strong> which is <code>progress</code>, and the progression it self <strong>progress</strong>, in our case <code>100</code> = 100% and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
<li>
<p>if error</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;download&#34;,
    &#34;response&#34;: {
        &#34;status&#34;: &#34;error&#34;,
        &#34;error&#34;: &#34;404&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;:&#34;upload&#34;, 
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;id&#34;:&#34;filemanager&#34;, 
                        &#34;url&#34;:&#34;preferences.json&#34;,
                    }
    },
    &#34;id&#34;: &#34;filemanager&#34;
}</code></pre></div><p><strong>type</strong> is <code>download</code>
<strong>id</strong> is the id set in output message to help to screen <br>
<strong>content</strong> has the response&rsquo;s <strong>status</strong> which is <code>error</code>, and the error it self <strong>error</strong>, in our case <code>404</code> (file not found) and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="send-sound-notification">Send sound notification</h3>
<p>There is no answer for this message, so <code>id</code> is not necessary</p>
<ul>
<li>
<p>Generate a beep notification<br>
Example: <code>{type:'sound', target:'webui', content:'beep'}</code><br>
<strong>type</strong> is `` (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>sound</strong> is the sound type, in our case <code>beep</code> (mandatory)</p>
</li>
<li>
<p>Generate a beep error notification<br>
Example: <code>{type:'sound', target:'webui', content:'error'}</code><br>
<strong>type</strong> is `` (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>sound</strong> is the sound type, in our case <code>error</code> (mandatory)</p>
</li>
<li>
<p>Generate a beep sequence notification<br>
Example: <code>{type:'sound', target:'webui', content:'beep', seq:[{ f: 1046, d: 200 },{ f: 1318, d: 100 }]}</code><br>
<strong>type</strong> is `` (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>sound</strong> is the sound type, in our case <code>seq</code> (mandatory)<br>
<strong>seq</strong> is an array of sequence of beep, in our case <code>[{ f: 1046, d: 200 },{ f: 1318, d: 100 }]</code> (mandatory),  <code>f</code> is frequency and <code>d</code> is duration of the beep</p>
</li>
</ul>
<hr>
<h3 id="send-toast-notification">Send toast notification</h3>
<p>There is no answer for this message, so <code>id</code> is not necessary</p>
<ul>
<li>
<p>Generate a success toast notification<br>
Example: <code>{type:'toast', target:'webui', content:{text:'This is a success', type:'success'}}</code><br>
<strong>type</strong> is `` (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>content</strong> has the toast <strong>type</strong>, in our case <code>success</code>, and the <strong>text</strong> to display, in ou case <code>This is a success</code> (mandatory)</p>
</li>
<li>
<p>Generate an error toast notification<br>
Example: <code>{type:'toast', target:'webui', content:{text:'This is an error', type:'error'}}</code><br>
<strong>type</strong> is `` (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>content</strong> has the toast <strong>type</strong>, in our case <code>error</code>, and the <strong>text</strong> to display, in ou case <code>This is an error</code> (mandatory)</p>
</li>
<li>
<p>Generate a normal toast notification<br>
Example: <code>{type:'toast', target:'webui', content:{text:'This is a toast', type:'default'}}</code><br>
<strong>type</strong> is `` (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>content</strong> has the toast <strong>type</strong>, in our case <code>default</code>, and the <strong>text</strong> to display, in ou case <code>This is a toast</code> (mandatory)</p>
</li>
</ul>
<hr>
<h3 id="send-translation-request">Send translation request</h3>
<ul>
<li>
<p>simple translation
Example: <code>{type:'translate', target:'webui', id:'transpanel', content:'S153'}</code><br>
<strong>type</strong> is <code>translate</code> (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>id</strong> is <code>transpanel</code> (optional)<br>
<strong>content</strong> is the text that need to be translated, in our case <code>S153</code> (mandatory)</p>
<ul>
<li>
<p>Answer format: check the <code>eventMsg.data</code></p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;translate&#34;,
    &#34;content&#34;: {
        &#34;response&#34;: &#34;Your session will end soon, do you want to stay connected ?&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;:&#34;translate&#34;, 
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;id&#34;:&#34;transpanel&#34;, 
                        &#34;content&#34;:&#34;S153&#34;
                    }
    },
    &#34;id&#34;: &#34;transpanel&#34;
}  </code></pre></div><p><strong>type</strong> is <code>translate</code><br>
<strong>id</strong> is the id set in command message to help to screen <br>
<strong>content</strong> has the response it self <strong>response</strong>, in our case <code>Your session will end soon, do you want to stay connected ?</code> and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
</ul>
</li>
<li>
<p>full dump of translations<br>
Example: <code>{type:'translate', target:'webui', id:'transpanel', all:'true'}</code><br>
<strong>type</strong> is <code>translate</code> (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>id</strong> is <code>transpanel</code> (optional)<br>
<strong>all</strong> to take all translations (mandatory)</p>
<ul>
<li>
<p>Answer format: check the <code>eventMsg.data</code></p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;translate&#34;,
    &#34;content&#34;: {
        &#34;response&#34;: &#34;Your session will end soon, do you want to stay connected ?&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;:&#34;translate&#34;, 
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;id&#34;:&#34;transpanel&#34;, 
                        &#34;content&#34;:[....]
                    }
    },
    &#34;id&#34;: &#34;transpanel&#34;
}  </code></pre></div><p><strong>type</strong> is <code>translate</code><br>
<strong>id</strong> is the id set in command message to help to screen <br>
<strong>content</strong> has the response it self <strong>response</strong>, in our case an array of all translations and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="send-capabilities-request">Send capabilities request</h3>
<p>This allow to collect all capabilities for specific topic:</p>
<ul>
<li>if id is <code>connection</code> you will get the json of [ESP800] response jsonified</li>
<li>if id is <code>features</code> you will get the [ESP400] response jsonified</li>
<li>if id is <code>interface</code> you will get the settings from preferences.json jsonified</li>
<li>if id is <code>settings</code> you will get specific settings from target fw in json format</li>
<li>if id is <code>extensions</code> you will get the extensions from preferences.json jsonified of the <code>name</code> extensions</li>
</ul>
<p>Be noted this API only collect existing data, so for <code>features</code>,<code>interface</code>, <code>extensions</code>and <code>settings</code> you may get empty response if corresponding query has not be done.</p>
<p>About settings the format may differ from one firmware to another, so you need to check the response to know how to use it, response is always a variable named machineSettings and important content may usualy located in <code>machineSettings.cache</code></p>
<p>Example: <code>{type:'capabilities', target:'webui', id:'connection'}</code><br>
<strong>type</strong> is <code>capabilities</code> (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>id</strong> is <code>connection</code> (mandatory)</p>
<ul>
<li>
<p>Answer format: check the <code>eventMsg.data</code></p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;capabilities&#34;,
    &#34;content&#34;: {
        &#34;response&#34;: &#34;{
			&#34;FWVersion&#34;: &#34;3.0.0.a111&#34;,
			&#34;FWTarget&#34;: &#34;marlin&#34;,
			&#34;FWTargetID&#34;: &#34;40&#34;,
			&#34;Setup&#34;: &#34;Enabled&#34;,
			&#34;Screen&#34;: &#34;HMI V3&#34;,
			&#34;Streaming&#34;: &#34;Enabled&#34;,
			&#34;SDConnection&#34;: &#34;direct&#34;,
			&#34;SerialProtocol&#34;: &#34;Raw&#34;,
			&#34;Authentication&#34;: &#34;Disabled&#34;,
			&#34;WebCommunication&#34;: &#34;Asynchronous&#34;,
			&#34;WebSocketIP&#34;: &#34;localhost&#34;,
			&#34;WebSocketPort&#34;: &#34;81&#34;,
			&#34;Hostname&#34;: &#34;esp3d&#34;,
			&#34;WiFiMode&#34;: &#34;STA&#34;,
			&#34;WebUpdate&#34;: &#34;Enabled&#34;,
			&#34;FlashFileSystem&#34;: &#34;LittleFS&#34;,
			&#34;HostPath&#34;: &#34;/&#34;,
			&#34;Time&#34;: &#34;none&#34;,
			&#34;HostTarget&#34;: &#34;files&#34;,
			&#34;HostUploadPath&#34;: &#34;/&#34;,
			&#34;HostDownloadPath&#34;: &#34;/&#34;,
			&#34;wsID&#34;: &#34;0&#34;
		}&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;:&#34;capabilities&#34;, 
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;id&#34;:&#34;connection&#34;
                    }
    },
    &#34;id&#34;: &#34;connection&#34;
}  </code></pre></div><p><strong>type</strong> is <code>capabilities</code><br>
<strong>id</strong> is the id of requested capability<br>
<strong>content</strong> has the response it self <strong>response</strong>, in our case a JSON and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
</ul>
<hr>
<h3 id="save-extension-settings-to-preferencesjson">Save extension settings to preferences.json</h3>
<p>This allow to save extension settings to preferences.json, it is a way to store settings for extension that need to be saved for next session:</p>
<p>Example: <code>{type:'extensionsData', target:'webui', id:'myextension', content:'{&quot;setting1&quot;:&quot;value1&quot;,&quot;setting2&quot;:&quot;value2&quot;}'}</code></p>
<p><strong>type</strong> is <code>extensionsData</code> (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>id</strong> is <code>myextension</code> (mandatory)<br>
<strong>content</strong> is the settings to save, in stringified JSON format, in our case <code>{&quot;setting1&quot;:&quot;value1&quot;,&quot;setting2&quot;:&quot;value2&quot;}</code> (mandatory)</p>
<ul>
<li>
<p>Answer format: check the <code>eventMsg.data</code></p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
    &#34;type&#34;: &#34;extensionsData&#34;,
    &#34;content&#34;: {
        &#34;response&#34;: &#34;{
			&#34;status&#34;: &#34;success&#34;
		}&#34;,
        &#34;initiator&#34;: {
                        &#34;type&#34;:&#34;extensionsData&#34;, 
                        &#34;target&#34;:&#34;webui&#34;, 
                        &#34;id&#34;:&#34;myextension&#34;,
                        &#34;content&#34;:&#34;{&#34;setting1&#34;:&#34;value1&#34;,&#34;setting2&#34;:&#34;value2&#34;}&#34;
                    }
    },
    &#34;id&#34;: &#34;myextension&#34;
}  </code></pre></div><p><strong>type</strong> is <code>extensionsData</code><br>
<strong>id</strong> is the id of extension that saved settings
<strong>content</strong> has the response which is the status and also the  <strong>initiator</strong> is the initial command for reference</p>
</li>
</ul>
<hr>
<h3 id="send-icon-request">Send icon request</h3>
<p>The WebUI already a set of icons, so no need to bother with new icons, you can request a specific one if needed</p>
<p>Be noted some icons may be specific to a system, so it may not be available in all systems, the svg icon will be returned in response use quote into the svg tag so be sure to use it properly.</p>
<p>Main icons are :</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>None: null,
Activity: &lt;Activity /&gt;,
AlertCircle: &lt;AlertCircle /&gt;,
Anchor: &lt;Anchor /&gt;,
Aperture: &lt;Aperture /&gt;,
Award: &lt;Award /&gt;,
BarChart: &lt;BarChart /&gt;,
BellOff: &lt;BellOff /&gt;,
Bell: &lt;Bell /&gt;,
Bluetooth: &lt;Bluetooth /&gt;,
Bookmark: &lt;Bookmark /&gt;,
Box: &lt;Box /&gt;,
Camera: &lt;Camera /&gt;,
Cast: &lt;Cast /&gt;,
ChevronDown: &lt;ChevronDown /&gt;,
ChevronLeft: &lt;ChevronLeft /&gt;,
ChevronRight: &lt;ChevronRight /&gt;,
ChevronUp: &lt;ChevronUp /&gt;,
ChevronsDown: &lt;ChevronsDown /&gt;,
ChevronsLeft: &lt;ChevronsLeft /&gt;,
ChevronsRight: &lt;ChevronsRight /&gt;,
ChevronsUp: &lt;ChevronsUp /&gt;,
Clipboard: &lt;Clipboard /&gt;,
Clock: &lt;Clock /&gt;,
Cpu: &lt;Cpu /&gt;,
Crosshair: &lt;Crosshair /&gt;,
Database: &lt;Database /&gt;,
Delete: &lt;Delete /&gt;,
Download: &lt;Download /&gt;,
Droplet: &lt;Droplet /&gt;,
Edit: &lt;Edit /&gt;,
EyeOff: &lt;EyeOff /&gt;,
Eye: &lt;Eye /&gt;,
File: &lt;File /&gt;,
Filter: &lt;Filter /&gt;,
Flag: &lt;Flag /&gt;,
Frown: &lt;Frown /&gt;,
GitCommit: &lt;GitCommit /&gt;,
Globe: &lt;Globe /&gt;,
Grid: &lt;Grid /&gt;,
HardDrive: &lt;HardDrive /&gt;,
Hash: &lt;Hash /&gt;,
Heart: &lt;Heart /&gt;,
HelpCircle: &lt;HelpCircle /&gt;,
Home: &lt;Home /&gt;,
Image: &lt;Image /&gt;,
Info: &lt;Info /&gt;,
Layers: &lt;Layers /&gt;,
LifeBuoy: &lt;LifeBuoy /&gt;,
List: &lt;List /&gt;,
Loader: &lt;Loader /&gt;,
Lock: &lt;Lock /&gt;,
LogIn: &lt;LogIn /&gt;,
LogOut: &lt;LogOut /&gt;,
Mail: &lt;Mail /&gt;,
MapPin: &lt;MapPin /&gt;,
Meh: &lt;Meh /&gt;,
Menu: &lt;Menu /&gt;,
MessageSquare: &lt;MessageSquare /&gt;,
MinusCircle: &lt;MinusCircle /&gt;,
Monitor: &lt;Monitor /&gt;,
Moon: &lt;Moon /&gt;,
MoreHorizontal: &lt;MoreHorizontal /&gt;,
MoreVertical: &lt;MoreVertical /&gt;,
Move: &lt;Move /&gt;,
PauseCircle: &lt;PauseCircle /&gt;,
Percent: &lt;Percent /&gt;,
PlayCircle: &lt;PlayCircle /&gt;,
PlusCircle: &lt;PlusCircle /&gt;,
Power: &lt;Power /&gt;,
Printer: &lt;Printer /&gt;,
Radio: &lt;Radio /&gt;,
RefreshCw: &lt;RefreshCw /&gt;,
Repeat: &lt;Repeat /&gt;,
RotateCcw: &lt;RotateCcw /&gt;,
Save: &lt;Save /&gt;,
Scissors: &lt;Scissors /&gt;,
Send: &lt;Send /&gt;,
Server: &lt;Server /&gt;,
Settings: &lt;Settings /&gt;,
Share: &lt;Share /&gt;,
Slash: &lt;Slash /&gt;,
Sliders: &lt;Sliders /&gt;,
Smile: &lt;Smile /&gt;,
Star: &lt;Star /&gt;,
StopCircle: &lt;StopCircle /&gt;,
Sun: &lt;Sun /&gt;,
Sunrise: &lt;Sunrise /&gt;,
Sunset: &lt;Sunset /&gt;,
Tag: &lt;Tag /&gt;,
Target: &lt;Target /&gt;,
Terminal: &lt;Terminal /&gt;,
Thermometer: &lt;Thermometer /&gt;,
Tool: &lt;Tool /&gt;,
Trash2: &lt;Trash2 /&gt;,
Underline: &lt;Underline /&gt;,
Upload: &lt;Upload /&gt;,
VideoOff: &lt;VideoOff /&gt;,
Video: &lt;Video /&gt;,
VolumeX: &lt;VolumeX /&gt;,
Volume: &lt;Volume /&gt;,
WifiOff: &lt;WifiOff /&gt;,
Wifi: &lt;Wifi /&gt;,
Wind: &lt;Wind /&gt;,
XCircle: &lt;XCircle /&gt;,
ZapOff: &lt;ZapOff /&gt;,
Zap: &lt;Zap /&gt;,</code></pre></div><p>3D printers have in addition:</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>Fan, 
FeedRate, 
FlowRate, 
Extruder</code></pre></div><p>cnc  has in addition :</p>
<div class="highlight wrap-code"><pre tabindex="0"><code>Fan, 
FeedRate, 
FlowRate,</code></pre></div><p>Example: <code>{type:'icon', target:'webui', id:'Activity'}</code><br>
<strong>type</strong> is <code>icon</code> (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>id</strong> is <code>Activity</code> (mandatory)</p>
<ul>
<li>
<p>Answer format: check the <code>eventMsg.data</code></p>
<div class="highlight wrap-code"><pre tabindex="0"><code>{
&#34;type&#34;: &#34;icon&#34;,
&#34;content&#34;: {
    &#34;response&#34;: &#34;&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;24&#39; height=&#39;24&#39; viewBox=&#39;0 0 24 24&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;2&#39; stroke-linecap=&#39;round&#39; stroke-linejoin=&#39;round&#39;&gt;&lt;path d=&#39;M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z&#39;&gt;&lt;/path&gt;&lt;polyline points=&#39;13 2 13 9 20 9&#39;&gt;&lt;/polyline&gt;&lt;/svg&gt;&#34;,
    &#34;initiator&#34;: {
        &#34;type&#34;: &#34;icon&#34;,
        &#34;target&#34;: &#34;webui&#34;,
        &#34;id&#34;: &#34;Activity&#34;
    }
},
&#34;id&#34;: &#34;Activity&#34;
}</code></pre></div><p><strong>type</strong> is <code>icon</code><br>
<strong>id</strong> is the id of requested &ldquo;Activity&rdquo;<br>
<strong>content</strong> has the response it self <strong>response</strong>, in our case svg using quote , also the <strong>initiator</strong> is the initial command for reference</p>
</li>
</ul>
<hr>
<h3 id="dispatch-message-to-other-extensions">Dispatch message to other extensions</h3>
<p>Example:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">type:&#39;dispatch&#39;,</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">target:&#39;webui&#39;,</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">id:&#39;senderpanel&#39;,</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">content:&#39;any</span> <span style="color:#960050;background-color:#1e0010">message&#39;</span> <span style="color:#960050;background-color:#1e0010">,</span> 
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">targetid:&#39;receiverpanel&#39;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p><strong>type</strong> is <code>dispatch</code> (mandatory)<br>
<strong>target</strong> is <code>webui</code> (mandatory)<br>
<strong>id</strong> is <code>senderpanel</code> (optional)<br>
<strong>content</strong> the message to dispatch using</p>
<p>Note: there no answer as the purpose of this is to send answer</p>
<hr>
<h3 id="modal-dialog-documentation">Modal Dialog Documentation</h3>
<p>This documentation describes how to use the modal dialog functionality. The modal dialog is a pop-up window that displays a message to the user and requires the user to respond before they can continue. The modal dialog can be used to display simple messages, confirmations, input fields, and multiple input fields.</p>
<h4 id="modal-types">Modal Types</h4>
<p>The code supports four types of modal dialogs:</p>
<ol>
<li>Simple Modal: Displays a basic modal with a title, text, and a single button.</li>
<li>Confirmation Modal: Displays a modal with a title, text, and two buttons for confirmation.</li>
<li>Input Modal: Displays a modal with a title, text, an input field, and two buttons.</li>
<li>Fields Modal: Displays a modal with a title, multiple input fields, and two buttons.</li>
</ol>
<h4 id="sending-messages">Sending Messages</h4>
<p>To open a modal dialog, you need to send a message to the parent window using the <code>sendMessage</code> function. The message should have the following structure:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">sendMessage</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;modal&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">target</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;webui&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;modalpanel&#39;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Modal-specific content
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Always</span> <span style="color:#a6e22e">set</span> <span style="color:#a6e22e">to</span> <span style="color:#e6db74">&#39;modal&#39;</span>.
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Always</span> <span style="color:#a6e22e">set</span> <span style="color:#a6e22e">to</span> <span style="color:#e6db74">&#39;webui&#39;</span>.
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Set</span> <span style="color:#a6e22e">to</span> <span style="color:#e6db74">&#39;modalpanel&#39;</span> <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">all</span> <span style="color:#a6e22e">modal</span> <span style="color:#a6e22e">types</span>.
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">An</span> <span style="color:#a6e22e">object</span> <span style="color:#a6e22e">containing</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">modal</span><span style="color:#f92672">-</span><span style="color:#a6e22e">specific</span> <span style="color:#a6e22e">content</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">####</span> <span style="color:#a6e22e">Modal</span> <span style="color:#a6e22e">Content</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Each</span> <span style="color:#a6e22e">modal</span> <span style="color:#a6e22e">type</span> <span style="color:#a6e22e">has</span> <span style="color:#a6e22e">its</span> <span style="color:#a6e22e">own</span> <span style="color:#a6e22e">specific</span> <span style="color:#a6e22e">content</span> <span style="color:#a6e22e">structure</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1.</span> <span style="color:#a6e22e">Simple</span> <span style="color:#a6e22e">Modal</span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">Example</span><span style="color:#f92672">:</span> 
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">```json
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        type:&#39;modal&#39;, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        target:&#39;webui&#39;, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        id:&#39;modalpanel&#39;, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        content:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                title:&#39;This is title&#39;, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                id:&#39;simple_modal&#39;, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                style:&#39;default&#39;, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                bt1Txt:&#39;S126&#39;, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                response1:&#39;ok&#39;, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                text:&#39;some text&#39;, 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                overlay:true
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ```</span>   
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">type</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">mandatory</span>)<span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;modal&#39;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">target</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">mandatory</span>)<span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;webui&#39;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">id</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">optional</span>)<span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;modalpanel&#39;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">content</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">mandatory</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">Modal</span> <span style="color:#a6e22e">description</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">title</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">mandatory</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">Title</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">modal</span>. <span style="color:#a6e22e">Use</span> <span style="color:#a6e22e">predefined</span> <span style="color:#a6e22e">text</span> <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">translation</span>.
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">id</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">mandatory</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">Modal</span> <span style="color:#a6e22e">ID</span>. <span style="color:#a6e22e">Example</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;simple_modal&#39;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">style</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">mandatory</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">Modal</span> <span style="color:#a6e22e">style</span>. <span style="color:#a6e22e">For</span> <span style="color:#a6e22e">simple</span> <span style="color:#a6e22e">modal</span>, <span style="color:#a6e22e">use</span> <span style="color:#e6db74">&#39;default&#39;</span>.
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">bt1Txt</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">optional</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">Text</span> <span style="color:#66d9ef">for</span> <span style="color:#a6e22e">button</span> <span style="color:#ae81ff">1.</span> <span style="color:#e6db74">&#39;S126&#39;</span> <span style="color:#a6e22e">will</span> <span style="color:#a6e22e">be</span> <span style="color:#a6e22e">translated</span> <span style="color:#a6e22e">as</span> <span style="color:#e6db74">&#39;Ok&#39;</span>. <span style="color:#a6e22e">If</span> <span style="color:#a6e22e">not</span> <span style="color:#a6e22e">defined</span>, <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">button</span> <span style="color:#a6e22e">won</span><span style="color:#e6db74">&#39;t be displayed.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     - **response1** (optional): Message sent if button 1 is clicked. Example: &#39;</span><span style="color:#a6e22e">ok</span><span style="color:#e6db74">&#39;. The click closes the modal.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     - **bt2Txt** (optional): Text for button 2. If not defined, the button won&#39;</span><span style="color:#a6e22e">t</span> <span style="color:#a6e22e">be</span> <span style="color:#a6e22e">displayed</span>.
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">response2</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">optional</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">Message</span> <span style="color:#a6e22e">sent</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">button</span> <span style="color:#ae81ff">2</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">clicked</span>. <span style="color:#a6e22e">The</span> <span style="color:#a6e22e">click</span> <span style="color:#a6e22e">closes</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">modal</span>.
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">hideclose</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">optional</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">If</span> <span style="color:#a6e22e">set</span> <span style="color:#a6e22e">to</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">it</span> <span style="color:#a6e22e">hides</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">close</span> <span style="color:#a6e22e">button</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">modal</span>.
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">overlay</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">optional</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">If</span> <span style="color:#a6e22e">set</span> <span style="color:#a6e22e">to</span> <span style="color:#66d9ef">true</span>, <span style="color:#a6e22e">it</span> <span style="color:#a6e22e">automatically</span> <span style="color:#a6e22e">closes</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">modal</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">it</span> <span style="color:#a6e22e">loses</span> <span style="color:#a6e22e">focus</span>.
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">-</span> <span style="color:#f92672">**</span><span style="color:#a6e22e">text</span><span style="color:#f92672">**</span> (<span style="color:#a6e22e">optional</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">Text</span> <span style="color:#a6e22e">to</span> <span style="color:#a6e22e">display</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">modal</span>. <span style="color:#a6e22e">If</span> <span style="color:#a6e22e">it</span><span style="color:#e6db74">&#39;s a predefined text, it will be translated.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   Note: The close button and overlay feature won&#39;</span><span style="color:#a6e22e">t</span> <span style="color:#a6e22e">send</span> <span style="color:#a6e22e">any</span> <span style="color:#a6e22e">notification</span> <span style="color:#a6e22e">when</span> <span style="color:#a6e22e">the</span> <span style="color:#a6e22e">modal</span> <span style="color:#a6e22e">is</span> <span style="color:#a6e22e">closed</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">Answer</span> <span style="color:#a6e22e">format</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Check</span> <span style="color:#e6db74">`eventMsg.data`</span>
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">```json
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     &#34;type&#34;: &#34;modal&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     &#34;content&#34;: {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">       &#34;response&#34;: &#34;ok&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">       &#34;initiator&#34;: {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         &#34;type&#34;: &#34;modal&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         &#34;target&#34;: &#34;webui&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         &#34;id&#34;: &#34;modalpanel&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         &#34;content&#34;: {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           &#34;title&#34;: &#34;This is title&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           &#34;id&#34;: &#34;simple_modal&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           &#34;style&#34;: &#34;default&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           &#34;bt1Txt&#34;: &#34;S126&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           &#34;response1&#34;: &#34;ok&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           &#34;text&#34;: &#34;some text&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">           &#34;overlay&#34;: true
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">         }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">       }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     },
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     &#34;id&#34;: &#34;modalpanel&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   }
</span></span></span></code></pre></div><ul>
<li><strong>type</strong>: &lsquo;modal&rsquo;</li>
<li><strong>id</strong>: ID set in the command message to help with screening</li>
<li><strong>content</strong>: Contains the response itself (<strong>response</strong>) and the initiator (initial command for reference)</li>
</ul>
<ol start="2">
<li>
<p>Confirmation Modal
Example:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">type:&#39;modal&#39;,</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">target:&#39;webui&#39;,</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">id:&#39;modalpanel&#39;,</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">content:</span>
</span></span><span style="display:flex;"><span>         <span style="color:#960050;background-color:#1e0010">{</span>
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">title:&#39;S26&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">id:&#39;confirm_modal&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">style:&#39;question&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">bt1Txt:&#39;S27&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">response1:&#39;yes&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">bt2Txt:&#39;S28&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">response2:&#39;cancel&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">text:&#39;S30&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">hideclose:true</span>
</span></span><span style="display:flex;"><span>         }
</span></span><span style="display:flex;"><span> <span style="color:#960050;background-color:#1e0010">}</span></span></span></code></pre></div><ul>
<li><strong>type</strong> (mandatory): &lsquo;modal&rsquo;</li>
<li><strong>target</strong> (mandatory): &lsquo;webui&rsquo;</li>
<li><strong>id</strong> (optional): &lsquo;modalpanel&rsquo;</li>
<li><strong>content</strong> (mandatory): Modal description
<ul>
<li><strong>title</strong> (mandatory): Title of the modal. &lsquo;S26&rsquo; will be translated as &lsquo;Please Confirm&rsquo;.</li>
<li><strong>id</strong> (mandatory): Modal ID. Example: &lsquo;confirm_modal&rsquo;</li>
<li><strong>style</strong> (mandatory): Modal style. For confirmation modal, use &lsquo;question&rsquo;.</li>
<li><strong>bt1Txt</strong> (optional): Text for button 1. &lsquo;S27&rsquo; will be translated as &lsquo;Yes&rsquo;. If not defined, the button won&rsquo;t be displayed.</li>
<li><strong>response1</strong> (optional): Message sent if button 1 is clicked. Example: &lsquo;yes&rsquo;. The click closes the modal.</li>
<li><strong>bt2Txt</strong> (optional): Text for button 2. &lsquo;S28&rsquo; will be translated as &lsquo;Cancel&rsquo;. If not defined, the button won&rsquo;t be displayed.</li>
<li><strong>response2</strong> (optional): Message sent if button 2 is clicked. Example: &lsquo;cancel&rsquo;. The click closes the modal.</li>
<li><strong>hideclose</strong> (optional): If set to true, it hides the close button of the modal.</li>
<li><strong>overlay</strong> (optional): If set to true, it automatically closes the modal if it loses focus.</li>
<li><strong>text</strong> (optional): Text to display in the modal. &lsquo;S30&rsquo; will be translated as &lsquo;Do you want to update?&rsquo;.</li>
</ul>
</li>
</ul>
<p>Note: The close button and overlay feature won&rsquo;t send any notification when the modal is closed.</p>
<p>Answer format: Check <code>eventMsg.data</code></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;modal&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;content&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;response&#34;</span>: <span style="color:#e6db74">&#34;yes&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;initiator&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;modal&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;target&#34;</span>: <span style="color:#e6db74">&#34;webui&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;modalpanel&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;content&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;S26&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;confirm_modal&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;style&#34;</span>: <span style="color:#e6db74">&#34;question&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;bt1Txt&#34;</span>: <span style="color:#e6db74">&#34;S27&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;response1&#34;</span>: <span style="color:#e6db74">&#34;yes&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;bt2Txt&#34;</span>: <span style="color:#e6db74">&#34;S28&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;response2&#34;</span>: <span style="color:#e6db74">&#34;cancel&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;S30&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;hideclose&#34;</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;modalpanel&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><ul>
<li><strong>type</strong>: &lsquo;modal&rsquo;</li>
<li><strong>id</strong>: ID set in the command message to help with screening</li>
<li><strong>content</strong>: Contains the response itself (<strong>response</strong>) and the initiator (initial command for reference)</li>
</ul>
</li>
<li>
<p>Input Modal
Example:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">type:&#39;modal&#39;,</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">target:&#39;webui&#39;,</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">id:&#39;modalpanel&#39;,</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">content:</span>
</span></span><span style="display:flex;"><span>         <span style="color:#960050;background-color:#1e0010">{</span>
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">title:&#39;S90&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">id:&#39;input_modal&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">style:&#39;input&#39;,</span>
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">validation:&#39;bt1&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">bt1Txt:&#39;S106&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">response1:&#39;create&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">bt2Txt:&#39;S28&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">response2:&#39;cancel&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">text:&#39;S104&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">hideclose:true</span>
</span></span><span style="display:flex;"><span>         }
</span></span><span style="display:flex;"><span> <span style="color:#960050;background-color:#1e0010">}</span></span></span></code></pre></div><ul>
<li><strong>type</strong> (mandatory): &lsquo;modal&rsquo;</li>
<li><strong>target</strong> (mandatory): &lsquo;webui&rsquo;</li>
<li><strong>id</strong> (optional): &lsquo;modalpanel&rsquo;</li>
<li><strong>content</strong> (mandatory): Modal description
<ul>
<li><strong>title</strong> (mandatory): Title of the modal. &lsquo;S90&rsquo; will be translated as &lsquo;Create Directory&rsquo;.</li>
<li><strong>id</strong> (mandatory): Modal ID. Example: &lsquo;input_modal&rsquo;</li>
<li><strong>style</strong> (mandatory): Modal style. For input modal, use &lsquo;input&rsquo;.</li>
<li><strong>bt1Txt</strong> (optional): Text for button 1. &lsquo;S106&rsquo; will be translated as &lsquo;Create&rsquo;. If not defined, the button won&rsquo;t be displayed.</li>
<li><strong>response1</strong> (optional): Message sent if button 1 is clicked. Example: &lsquo;create&rsquo;. The click closes the modal.</li>
<li><strong>bt2Txt</strong> (optional): Text for button 2. &lsquo;S28&rsquo; will be translated as &lsquo;Cancel&rsquo;. If not defined, the button won&rsquo;t be displayed.</li>
<li><strong>response2</strong> (optional): Message sent if button 2 is clicked. Example: &lsquo;cancel&rsquo;. The click closes the modal.</li>
<li><strong>hideclose</strong> (optional): If set to true, it hides the close button of the modal.</li>
<li><strong>overlay</strong> (optional): If set to true, it automatically closes the modal if it loses focus.</li>
<li><strong>text</strong> (optional): Text to display in the modal. &lsquo;S104&rsquo; will be translated as &lsquo;Please type directory name&rsquo;.</li>
</ul>
</li>
</ul>
<p>Note: The close button and overlay feature won&rsquo;t send any notification when the modal is closed.</p>
<p>Answer format: Check <code>eventMsg.data</code></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;modal&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;content&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;response&#34;</span>: <span style="color:#e6db74">&#34;create&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;inputData&#34;</span>: <span style="color:#e6db74">&#34;mydir&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;initiator&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;modal&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;target&#34;</span>: <span style="color:#e6db74">&#34;webui&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;modalpanel&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;content&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;S90&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;input_modal&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;style&#34;</span>: <span style="color:#e6db74">&#34;input&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;bt1Txt&#34;</span>: <span style="color:#e6db74">&#34;S106&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;response1&#34;</span>: <span style="color:#e6db74">&#34;create&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;bt2Txt&#34;</span>: <span style="color:#e6db74">&#34;S28&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;response2&#34;</span>: <span style="color:#e6db74">&#34;cancel&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;text&#34;</span>: <span style="color:#e6db74">&#34;S104&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;hideclose&#34;</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;modalpanel&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><ul>
<li><strong>type</strong>: &lsquo;modal&rsquo;</li>
<li><strong>id</strong>: ID set in the command message to help with screening</li>
<li><strong>content</strong>: Contains the response itself</li>
</ul>
</li>
<li>
<p>Fields Modal
Example:</p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">type:&#39;modal&#39;,</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">target:&#39;webui&#39;,</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">id:&#39;modalpanel&#39;,</span> 
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">content:</span>
</span></span><span style="display:flex;"><span>         <span style="color:#960050;background-color:#1e0010">{</span>
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">title:&#39;S90&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">id:&#39;fields_modal&#39;,</span>
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">validation:&#39;bt1&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">style:&#39;fields&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">bt1Txt:&#39;S106&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">response1:&#39;create&#39;,</span>
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">bt2Txt:&#39;S28&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">response2:&#39;cancel&#39;,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">hideclose:true,</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#960050;background-color:#1e0010">fields:</span>
</span></span><span style="display:flex;"><span>                 <span style="color:#960050;background-color:#1e0010">[</span>
</span></span><span style="display:flex;"><span>                      <span style="color:#960050;background-color:#1e0010">{</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">id:</span> <span style="color:#f92672">&#34;area&#34;</span>,
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">label:</span> <span style="color:#f92672">&#34;Area&#34;</span>,
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">type:</span> <span style="color:#f92672">&#34;group&#34;</span>,
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">[</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#960050;background-color:#1e0010">{</span>
</span></span><span style="display:flex;"><span>                             <span style="color:#960050;background-color:#1e0010">id:</span> <span style="color:#f92672">&#34;xmin&#34;</span>,
</span></span><span style="display:flex;"><span>                             <span style="color:#960050;background-color:#1e0010">type:</span> <span style="color:#f92672">&#34;number&#34;</span>,
</span></span><span style="display:flex;"><span>                             <span style="color:#960050;background-color:#1e0010">label:</span> <span style="color:#f92672">&#34;Xmin&#34;</span>,
</span></span><span style="display:flex;"><span>                             <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">0</span>
</span></span><span style="display:flex;"><span>                             }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>                             {
</span></span><span style="display:flex;"><span>                             <span style="color:#960050;background-color:#1e0010">id:</span> <span style="color:#f92672">&#34;xmax&#34;</span>,
</span></span><span style="display:flex;"><span>                             <span style="color:#960050;background-color:#1e0010">type:</span> <span style="color:#f92672">&#34;number&#34;</span>,
</span></span><span style="display:flex;"><span>                             <span style="color:#960050;background-color:#1e0010">label:</span> <span style="color:#f92672">&#34;Xmax&#34;</span>,
</span></span><span style="display:flex;"><span>                             <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">0</span>
</span></span><span style="display:flex;"><span>                             }
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">]</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">},</span>
</span></span><span style="display:flex;"><span>                         {
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">id:</span> <span style="color:#f92672">&#34;precision&#34;</span>,
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">type:</span> <span style="color:#f92672">&#34;number&#34;</span>,
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">label:</span> <span style="color:#f92672">&#34;Precision&#34;</span>,
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">min:</span> <span style="color:#f92672">&#34;0&#34;</span>,
</span></span><span style="display:flex;"><span>                         <span style="color:#960050;background-color:#1e0010">max:</span> <span style="color:#f92672">&#34;5&#34;</span>
</span></span><span style="display:flex;"><span>                         }
</span></span><span style="display:flex;"><span>                 <span style="color:#960050;background-color:#1e0010">]</span>
</span></span><span style="display:flex;"><span>         <span style="color:#960050;background-color:#1e0010">}</span>
</span></span><span style="display:flex;"><span>     <span style="color:#960050;background-color:#1e0010">}</span></span></span></code></pre></div><ul>
<li><strong>type</strong> (mandatory): &lsquo;modal&rsquo;</li>
<li><strong>target</strong> (mandatory): &lsquo;webui&rsquo;</li>
<li><strong>id</strong> (optional): &lsquo;modalpanel&rsquo;</li>
<li><strong>content</strong> (mandatory): Modal description
<ul>
<li><strong>title</strong> (mandatory): Title of the modal. &lsquo;S90&rsquo; will be translated as &lsquo;Create Item&rsquo;.</li>
<li><strong>id</strong> (mandatory): Modal ID. Example: &lsquo;fields_modal&rsquo;</li>
<li><strong>style</strong> (mandatory): Modal style. For fields modal, use &lsquo;fields&rsquo;.</li>
<li><strong>validation</strong> (mandatory): Define which button is performing the validation and send back the modified values: &lsquo;bt1&rsquo; or &lsquo;bt2&rsquo;.</li>
<li><strong>bt1Txt</strong> (optional): Text for button 1. &lsquo;S106&rsquo; will be translated as &lsquo;Create&rsquo;. If not defined, the button won&rsquo;t be displayed.</li>
<li><strong>response1</strong> (optional): Message sent if button 1 is clicked. Example: &lsquo;create&rsquo;. The click closes the modal.</li>
<li><strong>bt2Txt</strong> (optional): Text for button 2. &lsquo;S28&rsquo; will be translated as &lsquo;Cancel&rsquo;. If not defined, the button won&rsquo;t be displayed.</li>
<li><strong>response2</strong> (optional): Message sent if button 2 is clicked. Example: &lsquo;cancel&rsquo;. The click closes the modal.</li>
<li><strong>hideclose</strong> (optional): If set to true, it hides the close button of the modal.</li>
<li><strong>overlay</strong> (optional): If set to true, it automatically closes the modal if it loses focus.</li>
<li><strong>fields</strong> (mandatory): An array of field definitions for the modal.
<ul>
<li><strong>id</strong> (mandatory): ID of the field.</li>
<li><strong>label</strong> (mandatory): Label for the field.</li>
<li><strong>type</strong> (mandatory): Type of the field. Supported types: &rsquo;text&rsquo;, &lsquo;select&rsquo;, &lsquo;boolean&rsquo;, group.</li>
<li><strong>value</strong> (optional): Default value for the field.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Note: The close button and overlay feature won&rsquo;t send any notification when the modal is closed.</p>
<p>Answer format: Check <code>eventMsg.data</code></p>
<div class="highlight wrap-code"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;modal&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;content&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;response&#34;</span>: <span style="color:#e6db74">&#34;create&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;fields&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;field1&#34;</span>: <span style="color:#e6db74">&#34;Value 1&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;field2&#34;</span>: <span style="color:#e6db74">&#34;Option 2&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;initiator&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;modal&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;target&#34;</span>: <span style="color:#e6db74">&#34;webui&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;modalpanel&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;content&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;title&#34;</span>: <span style="color:#e6db74">&#34;S90&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;fields_modal&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;validation&#34;</span>: <span style="color:#e6db74">&#34;bt1&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;style&#34;</span>: <span style="color:#e6db74">&#34;fields&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;bt1Txt&#34;</span>: <span style="color:#e6db74">&#34;S106&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;response1&#34;</span>: <span style="color:#e6db74">&#34;create&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;bt2Txt&#34;</span>: <span style="color:#e6db74">&#34;S28&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;response2&#34;</span>: <span style="color:#e6db74">&#34;cancel&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;hideclose&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;fields&#34;</span>: [
</span></span><span style="display:flex;"><span>          {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;field1&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#e6db74">&#34;Field 1&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;text&#34;</span>
</span></span><span style="display:flex;"><span>          },
</span></span><span style="display:flex;"><span>          {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;field2&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#e6db74">&#34;Field 2&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;select&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;options&#34;</span>: [
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#34;Option 1&#34;</span>,
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#34;Option 2&#34;</span>
</span></span><span style="display:flex;"><span>            ]
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;modalpanel&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">*</span> <span style="color:#960050;background-color:#1e0010">type:</span> <span style="color:#960050;background-color:#1e0010">&#39;modal&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">*</span> <span style="color:#960050;background-color:#1e0010">id:</span> <span style="color:#960050;background-color:#1e0010">ID</span> <span style="color:#960050;background-color:#1e0010">set</span> <span style="color:#960050;background-color:#1e0010">in</span> <span style="color:#960050;background-color:#1e0010">the</span> <span style="color:#960050;background-color:#1e0010">command</span> <span style="color:#960050;background-color:#1e0010">message</span> <span style="color:#960050;background-color:#1e0010">to</span> <span style="color:#960050;background-color:#1e0010">help</span> <span style="color:#960050;background-color:#1e0010">with</span> <span style="color:#960050;background-color:#1e0010">screening</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">*</span> <span style="color:#960050;background-color:#1e0010">content:</span> <span style="color:#960050;background-color:#1e0010">Contains</span> <span style="color:#960050;background-color:#1e0010">the</span> <span style="color:#960050;background-color:#1e0010">response</span> <span style="color:#960050;background-color:#1e0010">itself</span> <span style="color:#960050;background-color:#1e0010">(response),</span> <span style="color:#960050;background-color:#1e0010">the</span> <span style="color:#960050;background-color:#1e0010">field</span> <span style="color:#960050;background-color:#1e0010">values</span> <span style="color:#960050;background-color:#1e0010">entered</span> <span style="color:#960050;background-color:#1e0010">by</span> <span style="color:#960050;background-color:#1e0010">the</span> <span style="color:#960050;background-color:#1e0010">user</span> <span style="color:#960050;background-color:#1e0010">(fields),</span> <span style="color:#960050;background-color:#1e0010">and</span> <span style="color:#960050;background-color:#1e0010">the</span> <span style="color:#960050;background-color:#1e0010">initiator</span> <span style="color:#960050;background-color:#1e0010">(initial</span> <span style="color:#960050;background-color:#1e0010">command</span> <span style="color:#960050;background-color:#1e0010">for</span> <span style="color:#960050;background-color:#1e0010">reference)</span></span></span></code></pre></div></li>
</ol>
<h4 id="fields-types-and-options">Fields types and options</h4>
<p>The fields modal supports the same as the interface fields but with some limitations, each type may support different options.<br>
The existing types and options are:</p>
<ol>
<li>
<p>&ldquo;pickup&rdquo;:
Currently not supported in the modal dialog it is used in interface tab to select language or theme</p>
<ul>
<li>&ldquo;id&rdquo; (mandatory)</li>
<li>&ldquo;type&rdquo; (mandatory)</li>
<li>&ldquo;label&rdquo; (mandatory)</li>
<li>&ldquo;value&rdquo; (mandatory) a string with the selected value</li>
</ul>
</li>
<li>
<p>&ldquo;boolean&rdquo;:
Supported in the modal dialog is used to select a boolean value like for a checkbox or a switch</p>
<ul>
<li>&ldquo;id&rdquo; (mandatory)</li>
<li>&ldquo;type&rdquo; (mandatory)</li>
<li>&ldquo;label&rdquo; (mandatory)</li>
<li>&ldquo;value&rdquo; (mandatory) a boolean value</li>
<li>&ldquo;help&rdquo; (optionnel) a string with a help text in tooltip</li>
<li>&ldquo;depend&rdquo; (optionnel) this is not supported in the modal dialog, but used in interface tab to show or hide a field based on the value of another field</li>
</ul>
</li>
<li>
<p>&ldquo;group&rdquo;:
Supported in the modal dialog is used to group fields together, it may contain any type of fields but not another group</p>
<ul>
<li>&ldquo;id&rdquo; (mandatory)</li>
<li>&ldquo;type&rdquo; (mandatory)</li>
<li>&ldquo;label&rdquo; (optional)</li>
<li>&ldquo;value&rdquo; (mandatory) an array of fields</li>
<li>&ldquo;depend&rdquo; (optionnel) this is not supported in the modal dialog, but used in interface tab to show or hide a field based on the value of another field</li>
</ul>
</li>
<li>
<p>&ldquo;number&rdquo;:
Supported in the modal dialog is used to select a number value float or integer</p>
<ul>
<li>&ldquo;id&rdquo; (mandatory)</li>
<li>&ldquo;type&rdquo; (mandatory)</li>
<li>&ldquo;label&rdquo; (mandatory)</li>
<li>&ldquo;min&rdquo; (optional) a string with the minimum value</li>
<li>&ldquo;max&rdquo; (optional) a string with the maximum value</li>
<li>&ldquo;help&rdquo; (optionnel) a string with a help text in tooltip</li>
<li>&ldquo;step&rdquo; (optionnel) a string with the step value for the input, can be a float</li>
<li>&ldquo;placeholder&rdquo; (optionnel) a string with a placeholder text</li>
<li>&ldquo;append&rdquo; (optionnel) a string to append to the value input like a unit</li>
<li>&ldquo;value&rdquo; (mandatory) a number value</li>
<li>&ldquo;depend&rdquo; (optionnel) this is not supported in the modal dialog, but used in interface tab to show or hide a field based on the value of another field</li>
</ul>
</li>
<li>
<p>&ldquo;text&rdquo;:
Supported in the modal dialog is used to select a text value</p>
<ul>
<li>&ldquo;id&rdquo; (mandatory)</li>
<li>&ldquo;type&rdquo; (mandatory)</li>
<li>&ldquo;label&rdquo; (mandatory)</li>
<li>&ldquo;value&rdquo; (mandatory) a string with the selected value</li>
<li>&ldquo;help&rdquo; (optionnel) a string with a help text in tooltip</li>
<li>&ldquo;placeholder&rdquo; (optionnel) a string with a placeholder text</li>
<li>&ldquo;depend&rdquo; (optionnel) this is not supported in the modal dialog, but used in interface tab to show or hide a field based on the value of another field</li>
<li>&ldquo;min&rdquo; (optionnel) minimum length of the text</li>
<li>&ldquo;max&rdquo; (optionnel) maximum length of the text</li>
<li>&ldquo;regexpattern&rdquo; (optionnel) a string with a regex to validate the text</li>
<li>&ldquo;append&rdquo; (optionnel) a string to append to the value input like a unit</li>
</ul>
</li>
<li>
<p>&ldquo;list&rdquo;:
Currently not supported in the modal dialog it is used in interface tab to select a value from a list (macros, extracontent, panels order, shorkeys)</p>
<ul>
<li>&ldquo;id&rdquo; (mandatory)</li>
<li>&ldquo;depend&rdquo; (optionnel) this is not supported in the modal dialog, but used in interface tab to show or hide a field based on the value of another field</li>
<li>&ldquo;fixed&rdquo; (optionnel)</li>
<li>&ldquo;sorted&rdquo; (optionnel)</li>
<li>&ldquo;type&rdquo; (mandatory)</li>
<li>&ldquo;label&rdquo; (mandatory)</li>
<li>&ldquo;value&rdquo; (mandatory)</li>
<li>&ldquo;nodelete&rdquo; (optionnel)</li>
<li>&ldquo;editable&rdquo; (optionnel)</li>
</ul>
</li>
<li>
<p>&ldquo;select&rdquo;:
Supported in the modal dialog is used to select a value from a drop list</p>
<ul>
<li>&ldquo;id&rdquo; (mandatory)</li>
<li>&ldquo;type&rdquo; (mandatory)</li>
<li>&ldquo;label&rdquo; (optional)</li>
<li>&ldquo;value&rdquo; (mandatory) a string with the selected value</li>
<li>&ldquo;options&rdquo; (mandatory) an array of objects with the options</li>
<li>&ldquo;help&rdquo; (optionnel) a string with a help text in tooltip</li>
<li>&ldquo;depend&rdquo; (optionnel) this is not supported in the modal dialog, but used in interface tab to show or hide a field based on the value of another field</li>
</ul>
</li>
</ol>
<h4 id="handling-messages">Handling Messages</h4>
<p>The code listens for messages from the parent window using the handleMessage function. When a message is received, it checks the type and id properties to determine if it&rsquo;s a modal-related message.</p>
<p>If the message is a modal response, it logs the clicked button (line.response) and performs specific actions based on the modal type and response.</p>
<p>For the Fields Modal, if the response is &lsquo;create&rsquo; (response1 because validation is bt1), it updates the defaultSettings object with the values entered in the fields (line.inputData).
For the Input Modal, if the response is &lsquo;create&rsquo; (response1 because validation is bt1), it displays the entered input value (line.inputData).</p>
<h2 id="install-an-extension-in-web-ui">Install an extension in Web UI</h2>
<h3 id="upload-it-to-local-filesystem-or-any-path-available-to-web-server">Upload it to local filesystem or any path available to web server</h3>
<p><a href="#R-image-a7108eae9099aaaa2e20b32eb63485d4" class="lightbox-link"><img alt="image" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/esp3d-webui/v3.x/documentation/api/extensions/upload_extension.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a7108eae9099aaaa2e20b32eb63485d4"><img alt="image" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/esp3d-webui/v3.x/documentation/api/extensions/upload_extension.png"></a></p>
<h3 id="add-extra-panel-or-page-using-this-extension">Add extra panel or page using this extension</h3>
<p><a href="#R-image-16d656deab3c733a07d5258572221774" class="lightbox-link"><img alt="image" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/esp3d-webui/v3.x/documentation/api/extensions/add_extension.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-16d656deab3c733a07d5258572221774"><img alt="image" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/esp3d-webui/v3.x/documentation/api/extensions/add_extension.png"></a></p>
<p>It will be displayed according your settings
<a href="#R-image-5a103cd2164eeb5b09501258fe855395" class="lightbox-link"><img alt="image" class="noborder lazy lightbox noshadow figure-image" loading="lazy" src="/esp3d-webui/v3.x/documentation/api/extensions/extra_extension_panel.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5a103cd2164eeb5b09501258fe855395"><img alt="image" class="noborder lazy lightbox noshadow lightbox-image" loading="lazy" src="/esp3d-webui/v3.x/documentation/api/extensions/extra_extension_panel.png"></a></p>
<h2 id="sample-codes">Sample codes</h2>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: blue;">
  <div class="box-label"><i class="fas fa-paperclip"></i> Attachments</div>
  <ul class="box-content attachments-files">
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/capabilities.html.gz">capabilities.html.gz</a> (716 B)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/dispatch.html.gz">dispatch.html.gz</a> (518 B)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/download.html.gz">download.html.gz</a> (810 B)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/extension_settings.html.gz">extension_settings.html.gz</a> (631 B)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/icons.html.gz">icons.html.gz</a> (808 B)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/modal.html.gz">modal.html.gz</a> (1 KB)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/query.html.gz">query.html.gz</a> (524 B)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/sound.html.gz">sound.html.gz</a> (288 B)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/terminal.html.gz">terminal.html.gz</a> (706 B)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/toast.html.gz">toast.html.gz</a> (285 B)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/translate.html.gz">translate.html.gz</a> (591 B)</li>
    <li><a href="/esp3d-webui/v3.x/documentation/api/extensions/upload.html.gz">upload.html.gz</a> (693 B)</li>
  </ul>
</div>

            <footer class="footline">

<hr>
<center>If any error or need any addition,<br> please let me know by opening a ticket <a href="https://github.com/luc-github/esp3d.io/issues" target="_blank">here</a><br> or submit a fix by <a href="https://github.com/luc-github/esp3d.io/pulls" target="_blank">PR</a> or use the edit button on top menu</center>

            </footer>
          </article>

        </div>
      </main>
    </div>
    <script src="/js/clipboard.min.js?1722688887" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1722688887" defer></script>
    <script src="/js/theme.js?1722688887" defer></script>
  </body>
</html>
